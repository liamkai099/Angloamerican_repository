crea APP en flask Explorador de reliquias 


Objetivos

Practicar el uso de sesiones
Utilizar la informaci√≥n de un formulario para agregar l√≥gica al servidor
Practicar el uso de inputs ocultos


crea un juego sencillo en el que implementar√°s sesiones, formularios e inputs ocultos.

El juego consiste en lo siguiente: Eres un explorador en busca de reliquias. Al comenzar el juego tu explorador debe tener 0 reliquias. El explorador puede ir a distintos lugares: al templo, a la pir√°mide, a la selva o a las ruinas y encontrar diferentes cantidades de reliquias. Las ruinas son las m√°s peligrosas, aqu√≠ tienen la posibilidad de derrumbarse y puedes perder en vez de ganar reliquias. 

Debes de crear este juego a trav√©s de Flask, permitiendo al explorador ganar reliquias y mostrar sus actividades pasadas.

La ruta principal debe mostrar una pantalla parecida a la siguiente; en donde se encuentren 4 formularios distintos (uno por cada lugar). Como por ejemplo, el de el templo podr√≠a verse as√≠:

 

<form action="/buscar_reliquias" method="post">

   <input type="hidden" name="lugar" value="templo" />

   <input type="submit" value="Encontrar reliquias!" class="btn btn-success"/>

</form>
 

Solo debe existir un m√©todo que maneje la solicitud POST para todos los lugares, y dependiendo del lugar que haya visitado el usuario ser√° la cantidad de reliquias que obtendr√°.

Eso significa que solo tendr√°s 2 rutas para esta tarea: la ruta principal (‚Äú/‚Äù) y la solicitud POST (‚Äú/buscar_reliquias‚Äù).




1 Crea un nuevo proyecto de Flask llamado reliquias
2 Crea una plantilla como se muestra en las im√°genes anteriores, en donde se incluyen 4 formularios separados; uno por cada lugar a explorar.
3 Genera una ruta principal que renderice esta p√°gina
4 Haz que la ruta POST ‚Äú/buscar_reliquias‚Äù agregue/disminuya la cantidad de reliquias que el explorador ha encontrado de acuerdo al lugar que explor√≥ y redirige a la ruta ra√≠z.

ChatGPT Plus
ChatGPT
Aqu√≠ tienes el c√≥digo para crear el juego "Explorador de Reliquias" en Flask:

Estructura del Proyecto
Directorio del Proyecto:
arduino
Copiar c√≥digo
reliquias/
  ‚îú‚îÄ‚îÄ static/
  ‚îú‚îÄ‚îÄ templates/
  ‚îÇ   ‚îî‚îÄ‚îÄ index.html
  ‚îú‚îÄ‚îÄ app.py
C√≥digo de la aplicaci√≥n
app.py
python
Copiar c√≥digo
from flask import Flask, render_template, request, redirect, session
import random

app = Flask(__name__)
app.secret_key = "secret_key_reliquias"

@app.route('/')
def index():
    # Inicializar sesi√≥n si es la primera visita
    if 'reliquias' not in session:
        session['reliquias'] = 0
        session['actividades'] = []
    
    return render_template('index.html', reliquias=session['reliquias'], actividades=session['actividades'])

@app.route('/buscar_reliquias', methods=['POST'])
def buscar_reliquias():
    lugar = request.form['lugar']
    reliquias_obtenidas = 0
    mensaje = ""
    
    if lugar == 'templo':
        reliquias_obtenidas = random.randint(10, 20)
        mensaje = f"Se obtuvieron: {reliquias_obtenidas} en: templo"
    elif lugar == 'pir√°mide':
        reliquias_obtenidas = random.randint(5, 10)
        mensaje = f"Se obtuvieron: {reliquias_obtenidas} en: pir√°mide"
    elif lugar == 'selva':
        reliquias_obtenidas = random.randint(2, 5)
        mensaje = f"Se obtuvieron: {reliquias_obtenidas} en: selva"
    elif lugar == 'ruinas':
        reliquias_obtenidas = random.randint(-50, 50)
        if reliquias_obtenidas < 0:
            mensaje = f"Se derrumb√≥ la ruina! Perdiste {-reliquias_obtenidas} reliquias en: ruinas"
        else:
            mensaje = f"Se obtuvieron: {reliquias_obtenidas} en: ruinas"
    
    # Actualizar sesi√≥n
    session['reliquias'] += reliquias_obtenidas
    session['actividades'].append(mensaje)
    
    return redirect('/')

@app.route('/reiniciar')
def reiniciar():
    session.clear()
    return redirect('/')

if __name__ == "__main__":
    app.run(debug=True)
templates/index.html
html
Copiar c√≥digo
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Reliquias</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <h1 class="text-center">Tus reliquias: {{ reliquias }}</h1>
        <div class="row text-center">
            <!-- Formulario para el Templo -->
            <div class="col-md-3">
                <h4>Templo</h4>
                <p>Ganas 10-20 reliquias</p>
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="templo">
                    <button type="submit" class="btn btn-success">Encontrar reliquias!</button>
                </form>
            </div>
            <!-- Formulario para la Pir√°mide -->
            <div class="col-md-3">
                <h4>Pir√°mide</h4>
                <p>Ganas 5-10 reliquias</p>
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="pir√°mide">
                    <button type="submit" class="btn btn-success">Encontrar reliquias!</button>
                </form>
            </div>
            <!-- Formulario para la Selva -->
            <div class="col-md-3">
                <h4>Selva</h4>
                <p>Ganas 2-5 reliquias</p>
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="selva">
                    <button type="submit" class="btn btn-success">Encontrar reliquias!</button>
                </form>
            </div>
            <!-- Formulario para las Ruinas -->
            <div class="col-md-3">
                <h4>Ruinas</h4>
                <p>Ganas/Pierdes 0-50 reliquias</p>
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="ruinas">
                    <button type="submit" class="btn btn-success">Encontrar reliquias!</button>
                </form>
            </div>
        </div>
        <hr>
        <h4>Actividades</h4>
        <ul>
            {% for actividad in actividades %}
                <li class="{% if 'Perdiste' in actividad %}text-danger{% else %}text-success{% endif %}">{{ actividad }}</li>
            {% endfor %}
        </ul>
        <a href="/reiniciar" class="btn btn-danger mt-3">Reiniciar Juego</a>
    </div>
</body>
</html>
Descripci√≥n del Funcionamiento
Ruta Principal (/): Renderiza la p√°gina principal, mostrando el total de reliquias y un listado de actividades.
Ruta de B√∫squeda (/buscar_reliquias): Maneja los formularios para calcular reliquias ganadas o perdidas en funci√≥n del lugar seleccionado.
Reiniciar Juego (/reiniciar): Borra la sesi√≥n y reinicia el contador de reliquias.
Estilo Bootstrap
Los botones y las actividades utilizan clases de Bootstrap para colores y dise√±o responsive.





T√∫ dijiste:
as los cambios al codigo para que muestra las actividades en orden descendiente, es decir la actividad m√°s reciente primero
ChatGPT Plus
ChatGPT
Para mostrar las actividades en orden descendente (la actividad m√°s reciente primero), puedes modificar c√≥mo se renderizan las actividades en la plantilla. Aqu√≠ est√° el cambio necesario:

C√≥digo Actualizado
app.py (sin cambios)
El manejo de las actividades no requiere modificaciones, ya que las actividades nuevas ya se a√±aden al final de la lista.

templates/index.html
Modifica la secci√≥n que renderiza las actividades para invertir el orden utilizando el filtro reverse de Jinja2.

html
Copiar c√≥digo
<h4>Actividades</h4>
<ul>
    {% for actividad in actividades | reverse %}
        <li class="{% if 'Perdiste' in actividad %}text-danger{% else %}text-success{% endif %}">{{ actividad }}</li>
    {% endfor %}
</ul>
Explicaci√≥n
Filtro reverse: Invierte el orden de la lista actividades para que las actividades m√°s recientes se muestren primero.
Estructura de Renderizado: Las actividades siguen mostrando el estilo correcto (rojo para p√©rdida y verde para ganancia).
Con este cambio, las actividades m√°s recientes aparecer√°n en la parte superior del listado. No necesitas realizar modificaciones adicionales en el servidor.






T√∫ dijiste:
agrega esta funcion al codigo crea una condici√≥n para ganar; por ejemplo, el usuario que haya ganado 500 reliquias en menos de 15 exploraciones. En el momento el que gane, puedes mostrar el bot√≥n de reinicio
ChatGPT Plus
ChatGPT
Para agregar una condici√≥n de victoria (ganar 500 reliquias en menos de 15 exploraciones) y mostrar un bot√≥n para reiniciar cuando se cumpla, aqu√≠ est√° el c√≥digo actualizado:

Modificaciones en el Servidor (app.py)
Agrega una l√≥gica para verificar la condici√≥n de victoria en cada exploraci√≥n.
Define una ruta para reiniciar el juego.
python
Copiar c√≥digo
from flask import Flask, render_template, request, redirect, session

app = Flask(__name__)
app.secret_key = 'mi_clave_secreta'

@app.route('/')
def index():
    # Inicializa variables de sesi√≥n si no existen
    if 'reliquias' not in session:
        session['reliquias'] = 0
    if 'actividades' not in session:
        session['actividades'] = []
    if 'exploraciones' not in session:
        session['exploraciones'] = 0
    if 'ganador' not in session:
        session['ganador'] = False

    return render_template('index.html', reliquias=session['reliquias'], 
                           actividades=session['actividades'], 
                           ganador=session['ganador'])

@app.route('/buscar_reliquias', methods=['POST'])
def buscar_reliquias():
    lugar = request.form['lugar']
    import random

    if lugar == 'templo':
        reliquias = random.randint(10, 20)
        session['actividades'].append(f"Se obtuvieron {reliquias} en el {lugar}")
    elif lugar == 'piramide':
        reliquias = random.randint(5, 10)
        session['actividades'].append(f"Se obtuvieron {reliquias} en la {lugar}")
    elif lugar == 'selva':
        reliquias = random.randint(2, 5)
        session['actividades'].append(f"Se obtuvieron {reliquias} en la {lugar}")
    elif lugar == 'ruinas':
        reliquias = random.randint(-50, 50)
        if reliquias >= 0:
            session['actividades'].append(f"Se obtuvieron {reliquias} en las {lugar}")
        else:
            session['actividades'].append(f"Se derrumb√≥ la ruina! Perdiste {abs(reliquias)} en las {lugar}")

    # Incrementa exploraciones
    session['exploraciones'] += 1

    # Actualiza las reliquias
    session['reliquias'] += reliquias

    # Verifica condici√≥n de victoria
    if session['reliquias'] >= 500 and session['exploraciones'] <= 15:
        session['ganador'] = True

    return redirect('/')

@app.route('/reiniciar')
def reiniciar():
    # Reinicia la sesi√≥n
    session.clear()
    return redirect('/')
Modificaciones en la Plantilla (templates/index.html)
Agregar un mensaje de victoria y el bot√≥n de reinicio.
html
Copiar c√≥digo
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Reliquias</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container text-center mt-5">
        <h1>Tus reliquias: {{ reliquias }}</h1>
        <h3>Exploraciones realizadas: {{ session['exploraciones'] }}</h3>

        {% if ganador %}
            <div class="alert alert-success" role="alert">
                ¬°Felicidades! Has ganado con {{ reliquias }} reliquias en {{ session['exploraciones'] }} exploraciones.
            </div>
            <a href="/reiniciar" class="btn btn-primary">Reiniciar Juego</a>
        {% else %}
            <div class="row mt-3">
                <div class="col">
                    <h4>Templo</h4>
                    <p>Ganas 10-20 reliquias</p>
                    <form action="/buscar_reliquias" method="post">
                        <input type="hidden" name="lugar" value="templo">
                        <input type="submit" value="Encontrar reliquias!" class="btn btn-success">
                    </form>
                </div>
                <div class="col">
                    <h4>Pir√°mide</h4>
                    <p>Ganas 5-10 reliquias</p>
                    <form action="/buscar_reliquias" method="post">
                        <input type="hidden" name="lugar" value="piramide">
                        <input type="submit" value="Encontrar reliquias!" class="btn btn-success">
                    </form>
                </div>
                <div class="col">
                    <h4>Selva</h4>
                    <p>Ganas 2-5 reliquias</p>
                    <form action="/buscar_reliquias" method="post">
                        <input type="hidden" name="lugar" value="selva">
                        <input type="submit" value="Encontrar reliquias!" class="btn btn-success">
                    </form>
                </div>
                <div class="col">
                    <h4>Ruinas</h4>
                    <p>Ganas/Pierdes 0-50 reliquias</p>
                    <form action="/buscar_reliquias" method="post">
                        <input type="hidden" name="lugar" value="ruinas">
                        <input type="submit" value="Encontrar reliquias!" class="btn btn-success">
                    </form>
                </div>
            </div>
        {% endif %}

        <h4 class="mt-4">Actividades</h4>
        <ul>
            {% for actividad in actividades | reverse %}
                <li class="{% if 'Perdiste' in actividad %}text-danger{% else %}text-success{% endif %}">{{ actividad }}</li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
Explicaci√≥n
Condici√≥n de Victoria:

El usuario gana si tiene 500 o m√°s reliquias en 15 exploraciones o menos.
Se utiliza session['ganador'] para indicar si el usuario ha ganado.
Bot√≥n de Reinicio:

Cuando el usuario gana, se muestra un mensaje con el bot√≥n de reinicio.
El bot√≥n dirige a la ruta /reiniciar, que limpia la sesi√≥n.
Actividades:

Las actividades siguen siendo mostradas en orden descendente.
Prueba este c√≥digo y ver√°s c√≥mo el bot√≥n aparece autom√°ticamente al ganar.






T√∫ dijiste:
no puedo ejecutar este codigo en consola que a pasado
ChatGPT Plus
ChatGPT
Para ejecutar el c√≥digo en tu consola, aseg√∫rate de que tienes un entorno de desarrollo Flask configurado correctamente. Sigue estos pasos para solucionar cualquier problema y ejecutar el proyecto:

Pasos para Configurar y Ejecutar el Proyecto
Verifica tu entorno de Python

Aseg√∫rate de que Python est√° instalado:
bash
Copiar c√≥digo
python --version
Aseg√∫rate de tener Python 3.7 o superior.
Crea un entorno virtual

En la carpeta donde est√° tu proyecto, crea un entorno virtual para aislar tus dependencias:
bash
Copiar c√≥digo
python -m venv venv
Activa el entorno virtual:
En Windows:
bash
Copiar c√≥digo
venv\Scripts\activate
En macOS/Linux:
bash
Copiar c√≥digo
source venv/bin/activate
Instala Flask

Una vez que el entorno virtual est√© activo, instala Flask:
bash
Copiar c√≥digo
pip install flask
Crea tu estructura de proyecto

Aseg√∫rate de que el c√≥digo que compart√≠ est√° organizado as√≠:
Copiar c√≥digo
reliquias/
‚îú‚îÄ‚îÄ app.py
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îî‚îÄ‚îÄ venv/
Guarda el archivo index.html dentro de la carpeta templates.
Ejecuta el servidor

Abre una terminal en la carpeta donde est√° app.py y ejecuta:
bash
Copiar c√≥digo
python app.py
Flask deber√≠a iniciar un servidor y mostrar algo como esto:
csharp
Copiar c√≥digo
* Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
Abre el navegador

Abre tu navegador y ve a http://127.0.0.1:5000/.
¬øQu√© errores pueden ocurrir?
Flask no est√° instalado

Si obtienes un error como ModuleNotFoundError: No module named 'flask', Flask no est√° instalado. Inst√°lalo con:
bash
Copiar c√≥digo
pip install flask
Estructura de archivos incorrecta

Aseg√∫rate de que index.html est√° dentro de una carpeta llamada templates en el mismo directorio que app.py.
Error en el c√≥digo

Si hay un error en el c√≥digo, Flask lo mostrar√° en la consola. Verifica que hayas copiado el c√≥digo completo correctamente.
Conflicto de puerto

Si el puerto 5000 est√° ocupado, inicia Flask en otro puerto:
bash
Copiar c√≥digo
flask run --port=5001
¬øC√≥mo depurar el problema?
Si no puedes ejecutarlo a√∫n, comparte el mensaje de error espec√≠fico que aparece en tu consola. Esto me ayudar√° a identificar y resolver el problema.





T√∫ dijiste:
modifica el codigo para Evitar el uso de sentencias condicionales (if, elif) en la ruta ‚Äú/buscar_reliquias‚Äù
ChatGPT Plus
ChatGPT
Evitar las sentencias condicionales en la ruta /buscar_reliquias puede lograrse utilizando estructuras como diccionarios para mapear las reglas de cada lugar directamente. A continuaci√≥n, se realiza la modificaci√≥n para eliminar el uso de if y elif en esa ruta.

C√≥digo Modificado
python
Copiar c√≥digo
from flask import Flask, render_template, request, redirect, session

import random

app = Flask(__name__)
app.secret_key = 'mi_clave_secreta'

# Diccionario para definir las reglas de reliquias por lugar
REGLAS = {
    'templo': lambda: random.randint(10, 20),
    'pir√°mide': lambda: random.randint(5, 10),
    'selva': lambda: random.randint(2, 5),
    'ruinas': lambda: random.choice([random.randint(-50, -1), random.randint(1, 50)]),  # Ganar o perder
}


@app.route('/')
def index():
    # Inicializa la sesi√≥n si es la primera vez que se carga
    session.setdefault('reliquias', 0)
    session.setdefault('actividades', [])
    session.setdefault('exploraciones', 0)
    session.setdefault('ganador', False)

    # Verifica si el usuario ha ganado
    if session['reliquias'] >= 500 and session['exploraciones'] <= 15:
        session['ganador'] = True

    return render_template(
        'index.html',
        reliquias=session['reliquias'],
        actividades=reversed(session['actividades']),  # Mostrar las actividades en orden descendente
        ganador=session['ganador']
    )


@app.route('/buscar_reliquias', methods=['POST'])
def buscar_reliquias():
    # Obt√©n el lugar enviado desde el formulario
    lugar = request.form.get('lugar')

    # Calcula las reliquias seg√∫n el lugar (evitando condicionales)
    reliquias_obtenidas = REGLAS.get(lugar, lambda: 0)()  # Si no hay lugar, devuelve 0 por defecto
    session['reliquias'] += reliquias_obtenidas

    # Actualiza actividades
    actividad = (
        f"Se obtuvo {reliquias_obtenidas} reliquias en el {lugar}" 
        if reliquias_obtenidas >= 0 
        else f"Se derrumb√≥ la {lugar}! Perdiste {-reliquias_obtenidas} reliquias"
    )
    session['actividades'].append(actividad)
    
    # Incrementa el contador de exploraciones
    session['exploraciones'] += 1

    return redirect('/')


@app.route('/reiniciar')
def reiniciar():
    # Reinicia la sesi√≥n para empezar de nuevo
    session.clear()
    return redirect('/')


if __name__ == '__main__':
    app.run(debug=True)
Explicaci√≥n de Cambios
Uso de un Diccionario de Reglas (REGLAS):

Cada lugar tiene una funci√≥n lambda que genera las reliquias correspondientes.
Por ejemplo:
'templo': lambda: random.randint(10, 20) para generar entre 10 y 20 reliquias.
'ruinas': lambda: random.choice([random.randint(-50, -1), random.randint(1, 50)]) para ganar o perder.
Eliminaci√≥n de Condicionales en la Ruta buscar_reliquias:

En lugar de usar if o elif, se utiliza el diccionario REGLAS con get para obtener la funci√≥n asociada al lugar y ejecutarla.
Si el lugar no es v√°lido, el valor por defecto ser√° lambda: 0, evitando errores.
Orden Descendente de Actividades:

reversed(session['actividades']) asegura que las actividades m√°s recientes se muestren primero.
Reinicio de Sesi√≥n:

La ruta /reiniciar elimina toda la sesi√≥n con session.clear().
Plantilla HTML (templates/index.html)
Aseg√∫rate de que el dise√±o de la plantilla tambi√©n soporte el bot√≥n de reinicio cuando el usuario gane.

html
Copiar c√≥digo
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador de Reliquias</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container text-center mt-5">
        <h1 class="mb-3">Tus reliquias: {{ reliquias }}</h1>
        
        {% if ganador %}
        <div class="alert alert-success" role="alert">
            ¬°Felicidades! Has ganado con {{ exploraciones }} exploraciones.
            <a href="/reiniciar" class="btn btn-primary">Reiniciar Juego</a>
        </div>
        {% else %}
        <div class="row">
            <div class="col-3">
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="templo" />
                    <button class="btn btn-success w-100">Explorar el Templo</button>
                </form>
            </div>
            <div class="col-3">
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="pir√°mide" />
                    <button class="btn btn-success w-100">Explorar la Pir√°mide</button>
                </form>
            </div>
            <div class="col-3">
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="selva" />
                    <button class="btn btn-success w-100">Explorar la Selva</button>
                </form>
            </div>
            <div class="col-3">
                <form action="/buscar_reliquias" method="post">
                    <input type="hidden" name="lugar" value="ruinas" />
                    <button class="btn btn-success w-100">Explorar las Ruinas</button>
                </form>
            </div>
        </div>
        {% endif %}

        <h3 class="mt-5">Actividades</h3>
        <ul class="list-group">
            {% for actividad in actividades %}
                <li class="list-group-item">{{ actividad }}</li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>





T√∫ dijiste:
tambi√©n agrega color a los textos si gana verde si pierde rojo
ChatGPT Plus
ChatGPT
Para agregar colores al texto seg√∫n si el usuario gana reliquias (verde) o pierde reliquias (rojo), puedes aplicar clases de Bootstrap en las actividades mostradas. Esto se lograr√° a√±adiendo una l√≥gica para clasificar las actividades seg√∫n ganancia o p√©rdida.

Modificaci√≥n en el C√≥digo de la Ruta Principal
Actualizamos la l√≥gica para incluir una clase de estilo en cada actividad seg√∫n si es positiva o negativa.

python
Copiar c√≥digo
@app.route('/buscar_reliquias', methods=['POST'])
def buscar_reliquias():
    # Obt√©n el lugar enviado desde el formulario
    lugar = request.form.get('lugar')

    # Calcula las reliquias seg√∫n el lugar (evitando condicionales)
    reliquias_obtenidas = REGLAS.get(lugar, lambda: 0)()  # Si no hay lugar, devuelve 0 por defecto
    session['reliquias'] += reliquias_obtenidas

    # Determina el color de la actividad seg√∫n la ganancia o p√©rdida
    color_clase = "text-success" if reliquias_obtenidas > 0 else "text-danger"

    # Actualiza actividades
    actividad = {
        "mensaje": (
            f"Se obtuvo {reliquias_obtenidas} reliquias en el {lugar}" 
            if reliquias_obtenidas >= 0 
            else f"Se derrumb√≥ la {lugar}! Perdiste {-reliquias_obtenidas} reliquias"
        ),
        "clase": color_clase,
    }
    session['actividades'].append(actividad)
    
    # Incrementa el contador de exploraciones
    session['exploraciones'] += 1

    return redirect('/')
Actualizaci√≥n en la Plantilla HTML
Modificamos la plantilla para usar las clases de color din√°micas en las actividades:

html
Copiar c√≥digo
<h3 class="mt-5">Actividades</h3>
<ul class="list-group">
    {% for actividad in actividades %}
        <li class="list-group-item {{ actividad.clase }}">{{ actividad.mensaje }}</li>
    {% endfor %}
</ul>
Cambios Clave
Clase de Color Din√°mica:

Para cada actividad, se incluye una clase Bootstrap basada en si la ganancia es positiva (text-success) o negativa (text-danger).
Diccionario para Actividades:

Cada actividad en session['actividades'] ahora es un diccionario con dos claves:
"mensaje": El texto que se muestra al usuario.
"clase": La clase CSS para el color (verde o rojo).
Plantilla Adaptada:

Se aplica la clase din√°mica a cada actividad mediante actividad.clase.
Resultado
Ganar Reliquias: El texto aparecer√° en verde.
Perder Reliquias: El texto aparecer√° en rojo.
¬°Esto har√° que las actividades sean visualmente claras para el usuario! üéâ